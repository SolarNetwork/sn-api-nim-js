!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("solarnetwork-api-core")):"function"==typeof define&&define.amd?define(["exports","solarnetwork-api-core"],n):n(e.sn=e.sn||{},e.sn)}(this,function(e,n){"use strict";var t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),o=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},i=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n},a=function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)},s="/solarnode-image-maker",u=function(e){return function(u){function l(){for(var e,r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];t(this,l);var c=o&&o[0]?o[0]instanceof n.Environment?o[0]:new n.Environment(o[0]):new n.Environment({tls:!0,host:"apps.solarnetwork.net",port:443,nimPath:s});return o||(o=[]),o[0]=c,i(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(a(o))))}return o(l,e),r(l,[{key:"baseUrl",value:function(){var e=this.env("nimPath")||s;return this.hostUrl()+e+"/api/v1"}},{key:"pingUrl",value:function(){return this.baseUrl()+"/ping"}},{key:"authorizeSessionUrl",value:function(){return this.baseUrl()+"/images/authorize"}},{key:"listBaseImagesUrl",value:function(){return this.baseUrl()+"/images/infos"}},{key:"createImageUrl",value:function(e,n){var t=n||this.nimSessionKey;return this.baseUrl()+"/images/create/"+encodeURIComponent(e)+"/"+encodeURIComponent(t)}},{key:"createImageReceiptUrl",value:function(e,n){var t=n||this.nimSessionKey;return this.baseUrl()+"/images/receipt/"+encodeURIComponent(e)+"/"+encodeURIComponent(t)}},{key:"downloadImageUrl",value:function(e,n){var t=n||this.nimSessionKey;return this.baseUrl()+"/images/"+encodeURIComponent(e)+"/"+encodeURIComponent(t)}},{key:"nimSessionKey",get:function(){return this.parameter("nimSessionKey")},set:function(e){this.parameter("nimSessionKey",e)}}]),l}()},l=function(e){function n(){return t(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),n}(u(n.UserUrlHelperMixin(n.UrlHelper)));e.NimUrlHelperMixin=u,e.NimDefaultPath=s,e.NimPathKey="nimPath",e.NimApiPathV1="/api/v1",e.NimUrlHelper=l,Object.defineProperty(e,"__esModule",{value:!0})});