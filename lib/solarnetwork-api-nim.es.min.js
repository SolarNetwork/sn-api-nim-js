import{Environment,UrlHelper,UserUrlHelperMixin}from"solarnetwork-api-core";var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},NimDefaultPath="/solarnode-image-maker",NimPathKey="nimPath",NimApiPathV1="/api/v1",NimSessionKey="nimSessionKey",NimUrlHelperMixin=function(e){return function(t){function r(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];classCallCheck(this,r);var o=n&&n[0]?n[0]instanceof Environment?n[0]:new Environment(n[0]):new Environment({tls:!0,host:"apps.solarnetwork.net",port:443,nimPath:NimDefaultPath});return n||(n=[]),n[0]=o,possibleConstructorReturn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(toConsumableArray(n))))}return inherits(r,e),createClass(r,[{key:"baseUrl",value:function(){var e=this.env(NimPathKey)||NimDefaultPath;return this.hostUrl()+e+NimApiPathV1}},{key:"pingUrl",value:function(){return this.baseUrl()+"/ping"}},{key:"authorizeSessionUrl",value:function(){return this.baseUrl()+"/images/authorize"}},{key:"listBaseImagesUrl",value:function(){return this.baseUrl()+"/images/infos"}},{key:"createImageUrl",value:function(e,t){var r=t||this.nimSessionKey;return this.baseUrl()+"/images/create/"+encodeURIComponent(e)+"/"+encodeURIComponent(r)}},{key:"createImageReceiptUrl",value:function(e,t){var r=t||this.nimSessionKey;return this.baseUrl()+"/images/receipt/"+encodeURIComponent(e)+"/"+encodeURIComponent(r)}},{key:"downloadImageUrl",value:function(e,t){var r=t||this.nimSessionKey;return this.baseUrl()+"/images/"+encodeURIComponent(e)+"/"+encodeURIComponent(r)}},{key:"nimSessionKey",get:function(){return this.parameter(NimSessionKey)},set:function(e){this.parameter(NimSessionKey,e)}}]),r}()},NimUrlHelper=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(NimUrlHelperMixin(UserUrlHelperMixin(UrlHelper)));export{NimUrlHelperMixin,NimDefaultPath,NimPathKey,NimApiPathV1,NimUrlHelper};